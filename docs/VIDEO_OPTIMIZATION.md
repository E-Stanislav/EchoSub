# –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –≤–∏–¥–µ–æ –≤ EchoSub

## –û–±–∑–æ—Ä

EchoSub —Ç–µ–ø–µ—Ä—å –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ç—Ä–∏ —Ç–∏–ø–∞ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –≤–∏–¥–µ–æ –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è –∏ –ø–µ—Ä–µ–º–æ—Ç–∫–∏:

1. **Faststart** - –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ moov-–±–æ–∫—Å–∞ –≤ –Ω–∞—á–∞–ª–æ MP4 —Ñ–∞–π–ª–∞
2. **Keyframes** - –ø–µ—Ä–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å —á–∞—Å—Ç—ã–º–∏ –∫–ª—é—á–µ–≤—ã–º–∏ –∫–∞–¥—Ä–∞–º–∏
3. **Hardware** - –∞–ø–ø–∞—Ä–∞—Ç–Ω–æ–µ —É—Å–∫–æ—Ä–µ–Ω–∏–µ (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω–æ)

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (Faststart)

### –ß—Ç–æ –¥–µ–ª–∞–µ—Ç
- –ü–µ—Ä–µ–º–µ—â–∞–µ—Ç –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ (moov-–±–æ–∫—Å) –≤ –Ω–∞—á–∞–ª–æ MP4 —Ñ–∞–π–ª–∞
- –ü–æ–∑–≤–æ–ª—è–µ—Ç –ø–ª–µ–µ—Ä—É –Ω–∞—á–∞—Ç—å –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –±–µ–∑ —á—Ç–µ–Ω–∏—è –∫–æ–Ω—Ü–∞ —Ñ–∞–π–ª–∞
- –ó–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —É—Å–∫–æ—Ä—è–µ—Ç —Å—Ç–∞—Ä—Ç –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è

### –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
- –î–ª—è –≤—Å–µ—Ö MP4 —Ñ–∞–π–ª–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –º–µ–¥–ª–µ–Ω–Ω–æ –Ω–∞—á–∏–Ω–∞—é—Ç –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ
- –ü–µ—Ä–µ–¥ –∑–∞–≥—Ä—É–∑–∫–æ–π –Ω–∞ –≤–µ–±-—Å–µ—Ä–≤–µ—Ä—ã
- –î–ª—è —Å—Ç—Ä–∏–º–∏–Ω–≥–∞

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏
```bash
ffmpeg -i input.mp4 -c copy -movflags +faststart output.mp4
```

## –ß–∞—Å—Ç—ã–µ –∫–ª—é—á–µ–≤—ã–µ –∫–∞–¥—Ä—ã (Keyframes)

### –ß—Ç–æ –¥–µ–ª–∞–µ—Ç
- –ü–µ—Ä–µ–∫–æ–¥–∏—Ä—É–µ—Ç –≤–∏–¥–µ–æ —Å GOP (Group of Pictures) —Ä–∞–∑–º–µ—Ä–æ–º 48 –∫–∞–¥—Ä–æ–≤
- –î–æ–±–∞–≤–ª—è–µ—Ç –∫–ª—é—á–µ–≤—ã–µ –∫–∞–¥—Ä—ã –∫–∞–∂–¥—ã–µ ~2 —Å–µ–∫—É–Ω–¥—ã (–ø—Ä–∏ 24 fps)
- –£—Å–∫–æ—Ä—è–µ—Ç –ø–µ—Ä–µ–º–æ—Ç–∫—É –∏ seek –æ–ø–µ—Ä–∞—Ü–∏–∏

### –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
- –î–ª—è –≤–∏–¥–µ–æ, –≥–¥–µ –≤–∞–∂–Ω–∞ –±—ã—Å—Ç—Ä–∞—è –ø–µ—Ä–µ–º–æ—Ç–∫–∞
- –î–ª—è –º–æ–Ω—Ç–∞–∂–∞ –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- –ö–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —á–∞—Å—Ç–æ –ø–µ—Ä–µ–º–∞—Ç—ã–≤–∞—é—Ç –≤–∏–¥–µ–æ

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏
```bash
ffmpeg -i input.mp4 -c:v libx264 -g 48 -keyint_min 48 -sc_threshold 0 -c:a copy output.mp4
```

## –ê–ø–ø–∞—Ä–∞—Ç–Ω–æ–µ —É—Å–∫–æ—Ä–µ–Ω–∏–µ (Hardware)

### –ß—Ç–æ –¥–µ–ª–∞–µ—Ç
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç GPU –¥–ª—è –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è/–¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ–µ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ:
  - macOS: VideoToolbox
  - NVIDIA: CUDA
  - Intel: VA-API
- Fallback –Ω–∞ –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ, –µ—Å–ª–∏ –∞–ø–ø–∞—Ä–∞—Ç–Ω–æ–µ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ

### –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
- –ù–∞ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∫–æ–º–ø—å—é—Ç–µ—Ä–∞—Ö —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –∞–ø–ø–∞—Ä–∞—Ç–Ω–æ–≥–æ —É—Å–∫–æ—Ä–µ–Ω–∏—è
- –î–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞ –ø–µ—Ä–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è
- –ö–æ–≥–¥–∞ –≤–∞–∂–Ω–∞ —Å–∫–æ—Ä–æ—Å—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫–∏

### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã
- **macOS**: VideoToolbox (–≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π)
- **Windows**: NVIDIA CUDA, Intel Quick Sync
- **Linux**: NVIDIA CUDA, Intel VA-API

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ EchoSub

### –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å
1. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∏–¥–µ–æ —Ñ–∞–π–ª –≤ EchoSub
2. –ü–æ—è–≤–∏—Ç—Å—è –ø–∞–Ω–µ–ª—å "–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è" —Å —Ç—Ä–µ–º—è –∫–Ω–æ–ø–∫–∞–º–∏:
   - üöÄ **Faststart**
   - üéØ **Keyframes**
   - ‚ö° **HW**

### –ü—Ä–æ—Ü–µ—Å—Å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
1. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –Ω—É–∂–Ω—É—é –∫–Ω–æ–ø–∫—É –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
2. –ü–æ—è–≤–∏—Ç—Å—è –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
3. –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ñ–∞–π–ª —Å–æ—Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ —Ç–æ–π –∂–µ –ø–∞–ø–∫–µ —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º
4. EchoSub –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—Å—è –Ω–∞ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ñ–∞–π–ª

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

#### –î–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Å—Ç–∞—Ä—Ç–∞
```
1. –°–Ω–∞—á–∞–ª–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Faststart (–±—ã—Å—Ç—Ä–æ, –±–µ–∑ –ø–æ—Ç–µ—Ä–∏ –∫–∞—á–µ—Å—Ç–≤–∞)
2. –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –±–æ–ª—å—à–µ –∫–æ–Ω—Ç—Ä–æ–ª—è –Ω–∞–¥ –ø–µ—Ä–µ–º–æ—Ç–∫–æ–π - –¥–æ–±–∞–≤—å—Ç–µ Keyframes
```

#### –î–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
```
1. Faststart (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
2. Keyframes (–¥–ª—è –ª—É—á—à–µ–π –ø–µ—Ä–µ–º–æ—Ç–∫–∏)
3. Hardware (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω–æ)
```

#### –ü–æ—Ä—è–¥–æ–∫ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è
```
–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –ø–æ—Ä—è–¥–æ–∫:
1. üöÄ Faststart - –≤—Å–µ–≥–¥–∞ –ø–µ—Ä–≤—ã–º
2. üéØ Keyframes - –µ—Å–ª–∏ –Ω—É–∂–Ω–∞ –±—ã—Å—Ç—Ä–∞—è –ø–µ—Ä–µ–º–æ—Ç–∫–∞
3. ‚ö° HW - –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
```

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

### Faststart
- –¢–æ–ª—å–∫–æ –¥–ª—è MP4 —Ñ–∞–π–ª–æ–≤
- –ù–µ –∏–∑–º–µ–Ω—è–µ—Ç –∫–∞—á–µ—Å—Ç–≤–æ –≤–∏–¥–µ–æ
- –ë—ã—Å—Ç—Ä–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è (–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –±–µ–∑ –ø–µ—Ä–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è)

### Keyframes
- –¢—Ä–µ–±—É–µ—Ç –ø–µ—Ä–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è (–º–µ–¥–ª–µ–Ω–Ω–µ–µ)
- –ú–æ–∂–µ—Ç —É–≤–µ–ª–∏—á–∏—Ç—å —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ —Ñ–æ—Ä–º–∞—Ç–æ–≤

### Hardware
- –ó–∞–≤–∏—Å–∏—Ç –æ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ–≥–æ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è
- –ú–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ –Ω–∞ —Å—Ç–∞—Ä—ã—Ö —Å–∏—Å—Ç–µ–º–∞—Ö
- Fallback –Ω–∞ –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

### –õ–æ–≥–∏
–í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è —Å –ø–æ–¥—Ä–æ–±–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π:
- –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
- –û—à–∏–±–∫–∏ –∏ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
–ü–æ—Å–ª–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –º–æ–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:
- –í—Ä–µ–º—è –¥–æ –ø–µ—Ä–≤–æ–≥–æ –∫–∞–¥—Ä–∞
- –°–∫–æ—Ä–æ—Å—Ç—å –ø–µ—Ä–µ–º–æ—Ç–∫–∏
- –†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞
- –ö–∞—á–µ—Å—Ç–≤–æ –≤–∏–¥–µ–æ

## –ë—É–¥—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

### –ü–ª–∞–Ω–∏—Ä—É–µ–º—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- –ü–∞–∫–µ—Ç–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤
- –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ —Ñ–∞–π–ª–æ–≤
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ
- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞ –∏ —Ä–∞–∑–º–µ—Ä–∞

### –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞
- –ë–æ–ª—å—à–µ —Ñ–æ—Ä–º–∞—Ç–æ–≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–æ–¥–µ–∫–∏
- –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

## –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

#### "FFmpeg –Ω–µ –Ω–∞–π–¥–µ–Ω"
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ FFmpeg
# macOS
brew install ffmpeg

# Ubuntu/Debian
sudo apt update && sudo apt install ffmpeg

# Windows
# –°–∫–∞—á–∞–π—Ç–µ —Å https://ffmpeg.org/download.html
```

#### "–û—à–∏–±–∫–∞ –∞–ø–ø–∞—Ä–∞—Ç–Ω–æ–≥–æ —É—Å–∫–æ—Ä–µ–Ω–∏—è"
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–¥–µ—Ä–∂–∫—É –≤–∞—à–µ–≥–æ GPU
- –û–±–Ω–æ–≤–∏—Ç–µ –¥—Ä–∞–π–≤–µ—Ä—ã
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞–∫ fallback

#### "–§–∞–π–ª —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π –ø–æ—Å–ª–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏"
- Keyframes –º–æ–∂–µ—Ç —É–≤–µ–ª–∏—á–∏—Ç—å —Ä–∞–∑–º–µ—Ä
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ–ª—å–∫–æ Faststart –¥–ª—è —ç–∫–æ–Ω–æ–º–∏–∏ –º–µ—Å—Ç–∞
- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–∞—á–µ—Å—Ç–≤–∞ (CRF)

### –ü–æ–¥–¥–µ—Ä–∂–∫–∞
–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏
2. –£–±–µ–¥–∏—Ç–µ—Å—å –≤ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Ñ–æ—Ä–º–∞—Ç–∞
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ–µ –º–µ—Å—Ç–æ –Ω–∞ –¥–∏—Å–∫–µ
4. –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ FFmpeg 